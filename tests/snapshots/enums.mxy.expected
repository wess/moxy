#include <stdlib.h>
#include <stdio.h>
#include <stdbool.h>

typedef enum {
    Color_Red,
    Color_Green,
    Color_Blue,
} Color;

typedef enum {
    Shape_Circle,
    Shape_None,
} Shape_Tag;

typedef struct {
    Shape_Tag tag;
    union {
        struct { float radius; } Circle;
    };
} Shape;



int main(void) {
    Color c = Color_Red;
    switch (c) {
        case Color_Red: {
            printf("%s\n", "red");
            break;
        }
        case Color_Green: {
            printf("%s\n", "green");
            break;
        }
        case Color_Blue: {
            printf("%s\n", "blue");
            break;
        }
    }
    Shape s = (Shape){ .tag = Shape_Circle, .Circle = { .radius = 3.14 } };
    switch (s.tag) {
        case Shape_Circle: {
            float r = s.Circle.radius;
            printf("%f\n", r);
            break;
        }
        case Shape_None: {
            printf("%s\n", "none");
            break;
        }
    }
    return 0;
}

